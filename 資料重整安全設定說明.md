# 資料重整安全設定說明

## 概述

為了防止資料被意外清空或丟失，系統已實施多層安全保護機制。本文檔說明如何安全地管理資料重整功能。

## 🛡️ 安全保護機制

### 1. 自動備份保護
- **緊急備份**：在執行任何可能導致資料丟失的操作前，系統會自動創建緊急備份
- **備份位置**：`emergencyBackup_*` 格式的 localStorage 項目
- **備份內容**：包含完整的遊戲資料，包括卡片、星星、進度等

### 2. 詳細確認對話框
- **資料比較**：顯示目前資料與備份資料的詳細比較
- **警告提示**：當備份資料比目前資料少時，會顯示警告
- **操作說明**：清楚說明每個操作會造成的影響

### 3. 安全設定選項

#### 🔒 資料保護模式
- **啟用**：所有資料重整操作都會先創建備份
- **停用**：關閉自動備份功能（不建議）

#### 📋 緊急備份管理
- **查看備份**：列出所有緊急備份檔案
- **清除備份**：刪除不需要的緊急備份

#### ⚠️ 危險操作確認
- **啟用**：所有危險操作都需要額外確認
- **停用**：關閉額外確認（不建議）

## 📋 安全操作流程

### 載入備份資料
1. 系統會顯示詳細的資料比較
2. 如果備份資料較少，會顯示警告
3. 自動創建緊急備份
4. 執行載入操作
5. 重新整理頁面

### 清除卡片
1. 顯示目前卡片和碎片數量
2. 說明操作影響
3. 創建備份
4. 執行清除操作
5. 保留碎片

### 重設自動儲存系統
1. 顯示目前狀態
2. 創建備份
3. 只清除設定，保留遊戲資料
4. 重新整理頁面

## 🚨 危險操作清單

以下操作被標記為危險操作，需要特別注意：

1. **載入雲端備份** - 會覆蓋所有目前資料
2. **載入指定備份** - 會覆蓋所有目前資料
3. **清除所有卡片** - 會清空所有已擁有卡片
4. **清除特定稀有度卡片** - 會清空指定稀有度的卡片
5. **重設自動儲存系統** - 會清除自動儲存設定

## 💡 最佳實踐

### 建議啟用的設定
- ✅ 資料保護模式
- ✅ 危險操作確認
- 🔄 定期查看緊急備份

### 操作前檢查清單
1. 確認目前資料狀態
2. 檢查是否有足夠的備份
3. 確認操作的必要性
4. 準備好恢復方案

### 資料恢復方法
1. 使用緊急備份恢復
2. 使用自動儲存備份恢復
3. 手動重新建立資料

## 🔧 故障排除

### 資料丟失時的處理
1. 檢查緊急備份
2. 檢查自動儲存備份
3. 聯繫技術支援

### 備份檔案損壞
1. 嘗試其他備份檔案
2. 檢查 localStorage 空間
3. 清理不必要的備份

## 📞 技術支援

如果遇到資料問題，請：
1. 記錄錯誤訊息
2. 保存錯誤截圖
3. 聯繫開發團隊

---

**注意**：這些安全機制是為了保護您的遊戲資料，建議保持啟用狀態。只有在特殊情況下才考慮停用。 